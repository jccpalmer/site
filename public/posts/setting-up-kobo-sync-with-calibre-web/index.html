<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Setting up Kobo sync with Calibre Web | Jordan Palmer</title>
<meta name="keywords" content="">
<meta name="description" content="There I was, minding my own business downloading ebooks from my Calibre server to my Kobo Libra 2 via the web browser when I stumbled upon a comment. This comment, courtesy of a now unknown Redditor, briefly mentioned something I&rsquo;d never heard of. Apparently, Calibre Web, the very service I used to sideload books onto my Kobo, had a built-in Kobo sync feature.
I stared incredulously at this comment, and then started to do some digging. I even ventured onto Google to find answers, as DuckDuckGo proved unable to pinpoint the exact information I needed. Sure enough, I found what I wanted, or at least the beginnings of it.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/setting-up-kobo-sync-with-calibre-web/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/setting-up-kobo-sync-with-calibre-web/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Jordan Palmer (Alt + H)">Jordan Palmer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/" title="Reviews">
                    <span>Reviews</span>
                </a>
            </li>
            <li>
                <a href="https://docs.jccpalmer.com" title="Docs">
                    <span>Docs</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Setting up Kobo sync with Calibre Web
    </h1>
    <div class="post-meta"><span title='2025-01-01 08:37:18 -0500 EST'>January 1, 2025</span>

</div>
  </header> 
  <div class="post-content"><p>There I was, minding my own business downloading ebooks from my Calibre server to my Kobo Libra 2 via the web browser when I stumbled upon a comment. This comment, courtesy of a now unknown Redditor, briefly mentioned something I&rsquo;d never heard of. Apparently, Calibre Web, the very service I used to sideload books onto my Kobo, had a built-in Kobo sync feature.</p>
<p>I stared incredulously at this comment, and then started to do some digging. I even ventured onto Google to find answers, as DuckDuckGo proved unable to pinpoint the exact information I needed. Sure enough, I found what I wanted, or at least the beginnings of it.</p>
<p>However, the road would prove to be a long one filled with trial and error, as these paths so often are. Anyone who has worked with anything related to Calibre knows how finnicky things can be, especially with Docker containers, reverse proxies, and Cloudflare tunnels involved. In the end, I have a 90% functional sync system set up between my Calibre library and my Libra 2.</p>
<p>I&rsquo;ll get into the two hangups a bit later, but first I want to detail what I set out to do and how I did it. As usual, complete documentation will follow later on.</p>
<h2 id="what-does-this-setup-involve">What does this setup involve?<a hidden class="anchor" aria-hidden="true" href="#what-does-this-setup-involve">#</a></h2>
<p>Simply put, the key parts of this setup are: a pre-existing Calibre library, a Calibre Web installation, and a Kobo e-reader. As I&rsquo;ve already mentioned, I did this on a Libra 2, but it should be doable on any modern Kobo e-reader. Your mileage, however, may vary.</p>
<p>In my homelab, I have <a href="https://hub.docker.com/r/linuxserver/calibre">Calibre</a> and <a href="https://hub.docker.com/r/linuxserver/calibre-web/">Calibre Web</a> running in two Docker containers on a Debian virtual machine. (I use Proxmox as my hypervisor.) All of my ebooks live on my NAS with a folder linked to the Calibre container for automatic synchronization. Any book I place in this folder gets automatically added to my libraryâ€”though Calibre itself struggles with this sometimes, often requiring me to restart the software via the CTRL+R shortcut.</p>
<p>Accomplishing this setup was a whole headache on its own and is therefore outside the scope of this post. Suffice to say, I&rsquo;m quite happy with how it works, but I will save that write-up for a different day.</p>
<p>Calibre Web links to my existing Calibre database and serves up my library in a more user-friendly format. It works well on mobile, desktop, and, yes, on my Kobo. It allows for other organization, ratings, and status marks. It&rsquo;s really the frontend that Calibre has always needed.</p>
<h2 id="get-calibre-web-ready-to-sync">Get Calibre Web ready to sync<a hidden class="anchor" aria-hidden="true" href="#get-calibre-web-ready-to-sync">#</a></h2>
<p>Once you have a working Calibre Web installation going, you need to head to the Admin settings to turn on the Kobo sync feature. Under the <strong>Configuration</strong> section, click the button that says <em>Edit Basic Configuration</em>. Once there, expand the menu for <em>Feature Configuration</em>. Tick the box for <em>Enable Kobo sync</em>, then also select the box for <em>Proxy unknown requests to Kobo Store</em>. Make sure that the <em>Server External Port</em> in the following box matches Calibre Web&rsquo;s port. (The default should be <code>8083</code>.)</p>
<p>Save, then head to your user&rsquo;s settings menu. Two new options should have appeared, <strong>Kobo Sync Token</strong> and <em>Sync only books in selected shelves with Kobo</em>. I highly recommend checking the latter so that you don&rsquo;t sync every single book in your library to your e-reader, unless that is your intention.</p>
<p>Finally, before moving over to the Kobo itself, click the <em>Create/View</em> button under the <strong>Kobo Sync Token</strong> section. This will create an API endpoint URL string that you&rsquo;ll need shortly. Copy it.</p>
<p>Note: If you use an external URL for your Calibre Web installation, you might run into trouble with the Kobo syncing properly. Many users have reported problems when using a reverse proxy and I have not gotten it to work with a Cloudflare tunnel. So you might have to sub in the Calibre Web server&rsquo;s local IP address with the port appended before the API key.</p>
<h2 id="configuring-the-kobo-e-reader">Configuring the Kobo e-reader<a hidden class="anchor" aria-hidden="true" href="#configuring-the-kobo-e-reader">#</a></h2>
<p>Before leaving Calibre Web, remember that checkbox for <em>Sync only books in selected shelves with Kobo</em>? Assuming you left it on, you need to create and setup shelves for syncing. How you do this is up to you as we all have our own methods for organizing our media. I went with a few shelves: Fantasy, Sci-Fi, Computer Science, Cooking, and Witchcraft. The books in the latter are my wife&rsquo;s and I do not want them on my Kobo, which is why I checked the box in the settings.</p>
<p>If you haven&rsquo;t created any shelves yet, click the big <strong>Create a Shelf</strong> button on the left panel. In the page that follows, name the shelf whatever you want (it will appear as named on your Kobo, so name wisely) and check the box for <em>Sync this shelf with Kobo device</em>. If, however, you already have some shelves, simply go to the shelf itself, then click the <strong>Edit Shelf Properties</strong> button. You&rsquo;ll get a page that looks like the new shelf one where you can change the name and, most importantly, tell Calibre Web to sync it to your Kobo.</p>
<p>Now, plug in your Kobo to your computer. Follow the onscreen prompt to enable the connection then open your Kobo&rsquo;s root folder on your computer. You&rsquo;ll need to have hidden files enabled (unless you&rsquo;re doing this via the command line, which is an option), because you have to head to the <code>.kobo</code> folder. Click into the <code>Kobo</code> subdirectory, then look for the <code>Kobo eReader.conf</code> file. I highly suggest making a copy in that directory in case you want to revert to stock settings without fuss.</p>
<p>Under the <code>OneStoreServices</code> section in the configuration file, you&rsquo;re looking for the line that starts with <code>api_endpoint=</code>. This is where you will paste the API URL you generated earlier. Save the file, exit your text editor, and safely eject the Kobo.</p>
<p>Once you&rsquo;re back on the Kobo home screen, trigger a manual sync by tapping the Sync icon in the top toolbar. This first one might take a while as Calibre Web builds its own database and syncs everything you selected. The process should download the books themselves, as well as the metadata and covers.</p>
<h2 id="final-thoughts">Final thoughts<a hidden class="anchor" aria-hidden="true" href="#final-thoughts">#</a></h2>
<p>So far, this system has far exceeded the old way I did things, which was to visit Calibre Web in my Libra 2&rsquo;s web browser and download each book manually. If I wanted to deal with connecting to my PC, I could sideload multiple items that way, too. Now? I don&rsquo;t have to worry about it. I did, however, run into random errors with my external URL and I believe it has to do with how I access my self-hosted services externally.</p>
<p>However, there is a limitation to note, more of a nuisance than anything else. Heading to the Kobo Store, you might notice that most of the book covers are missing, replaced with Kobo&rsquo;s generic white page with the title. This will very likely annoy many â€” it certainly irritates me.</p>
<p>One way to get around this is to buy the book you want on Kobo&rsquo;s website (or in the Android app), then download the book, and strip it of its DRM while importing it into Calibre. Then it&rsquo;ll sync to your Kobo e-reader. With this, you still have the book in your Kobo library should you decide to revert all of the changes you made here. Now you see why I suggested to make a copy of the original config file.</p>
<p>This same problem applies to the Overdrive section, too. Even after mapping an external port to the container&rsquo;s port <code>80</code>, telling Calibre Web to proxy unknown requests via port <code>80</code>, and adding the host port to the image paths â€” <code>image_host</code>, <code>image_url_quality_template</code>, and <code>image_url_template</code> â€” in the config file, I still can&rsquo;t get all store/Overdrive covers to download. Some do, but not all of them, even after an account repair and forced sync on the Calibre Web side. (I even exposed port <code>80</code> on the host since the Kobo config file appends the server&rsquo;s external port to the URL.)</p>
<p>I initially ran into issues using my external Calibre Web URL in the config file, but that was because I had used HTTPS, thinking this the right path given that I tunnel my Calibre Web through a Cloudflare tunnel. So chalk this one up to user error.</p>
<p>Do I suggest this after hours of tinkering and debugging? Absolutely. Kobo is already pretty friendly to users, but I still prefer owning all of my books in Calibre. Whether you acquire your whole library legitimately or not is up to your conscience, but Calibre nonetheless offers a lot to get excited about. And with the Kobo sync feature in Calibre Web, I&rsquo;m extremely pleased with things so far. The lack of images in the store/Overdrive irritate me, yes, but it&rsquo;s such a minor thing.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Jordan Palmer</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
